import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as s,b as t,d as e,e as r,f as o,r as d,o as h}from"./app-ByxOTFMR.js";const p={};function c(k,i){const n=d("RouteLink");return h(),l("div",null,[i[3]||(i[3]=s(`<p>This section explains how to install UzonMail on Windows Server. The server installation has three main parts.</p><h2 id="install-runtime" tabindex="-1"><a class="header-anchor" href="#install-runtime"><span>Install runtime</span></a></h2><ol><li>Install <code>.NET runtime-9.0.7-windows-x64-installer</code></li><li>Install <code>.NET runtime-aspnetcore-9.0.7-windows-x64-installer</code></li></ol><h2 id="download" tabindex="-1"><a class="header-anchor" href="#download"><span>Download</span></a></h2><p>Download <code>uzonmail-service-win-x64-version.zip</code> from [Versions], unzip and run <code>UZonMailService.exe</code>.</p><p>If you see the following UI screenshot, the service started successfully:</p><figure><img src="https://oss.uzoncloud.com:2234/public/files/images/image-20241017221814354.png" alt="service UI" tabindex="0" loading="lazy"><figcaption>service UI</figcaption></figure><p>You can test by visiting <code>http://localhost:22345/</code> in a browser. After confirming it works, close the terminal and proceed to register the service.</p><h2 id="register-service" tabindex="-1"><a class="header-anchor" href="#register-service"><span>Register service</span></a></h2><p>To run UzonMail as a background service, register <code>UZonMailService.exe</code> as a Windows service. Open an elevated CMD or PowerShell, navigate to the extracted folder, and run:</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Register service</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uzon</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mail install</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Start service</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uzon</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mail start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Other useful commands:</p><ul><li><code>uzon-mail stop</code> — stop service</li><li><code>uzon-mail uninstall</code> — uninstall service</li><li><code>uzon-mail status</code> — view service status</li><li><code>uzon-mail restart</code> — restart service</li></ul><h2 id="modify-configuration" tabindex="-1"><a class="header-anchor" href="#modify-configuration"><span>Modify configuration</span></a></h2>`,14)),t("p",null,[i[1]||(i[1]=e("For server deployments you may proxy the service to the public Internet. Make related configuration changes in the ")),r(n,{to:"/guide/setup/"},{default:o(()=>i[0]||(i[0]=[e("Backend Configuration")])),_:1}),i[2]||(i[2]=e(" section."))]),i[4]||(i[4]=s(`<div class="hint-container warning"><p class="hint-container-title">Warning</p><p>If you expose the service publicly, make sure to change default configuration for security!</p></div><h2 id="open-firewall-port" tabindex="-1"><a class="header-anchor" href="#open-firewall-port"><span>Open firewall port</span></a></h2><p>To allow LAN access, open port 22345. Run PowerShell as administrator and execute:</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Allow port 22345</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall add rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dir</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">allow protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TCP localport</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">22345</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Show rule</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall show rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Delete rule</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall delete rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4))])}const m=a(p,[["render",c],["__file","windows-server.html.vue"]]),v=JSON.parse('{"path":"/en/guide/installation/windows-server","title":"Windows Server","lang":"en-US","frontmatter":{"title":"Windows Server","icon":"server","order":2,"description":"Guide to install UzonMail on Windows Server, including runtime installation, download and service registration.","permalink":"/en/guide/installation/windows-server","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://mail.uzoncloud.com/guide/installation/windows-server"}],["meta",{"property":"og:url","content":"https://mail.uzoncloud.com/en/guide/installation/windows-server"}],["meta",{"property":"og:site_name","content":"UzonMail"}],["meta",{"property":"og:title","content":"Windows Server"}],["meta",{"property":"og:description","content":"Guide to install UzonMail on Windows Server, including runtime installation, download and service registration."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://oss.uzoncloud.com:2234/public/files/images/image-20241017221814354.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows Server\\",\\"image\\":[\\"https://oss.uzoncloud.com:2234/public/files/images/image-20241017221814354.png\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"uyoufu\\",\\"url\\":\\"https://uyoufu.uzoncloud.com/\\"}]}"]]},"headers":[{"level":2,"title":"Install runtime","slug":"install-runtime","link":"#install-runtime","children":[]},{"level":2,"title":"Download","slug":"download","link":"#download","children":[]},{"level":2,"title":"Register service","slug":"register-service","link":"#register-service","children":[]},{"level":2,"title":"Modify configuration","slug":"modify-configuration","link":"#modify-configuration","children":[]},{"level":2,"title":"Open firewall port","slug":"open-firewall-port","link":"#open-firewall-port","children":[]}],"git":{},"readingTime":{"minutes":0.9,"words":271},"filePathRelative":"en/guide/installation/windows-server.md"}');export{m as comp,v as data};
