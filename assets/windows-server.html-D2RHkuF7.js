import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as e,b as t,d as s,e as r,g as o,r as p,o as h}from"./app-B_XbNxJr.js";const d={};function k(c,i){const a=p("RouteLink");return h(),l("div",null,[i[3]||(i[3]=e(`<p>本节将介绍如何在 Windows Server 上安装宇正群邮。服务器的安装方式，主要分为 3 个部分：</p><h2 id="环境安装" tabindex="-1"><a class="header-anchor" href="#环境安装"><span>环境安装</span></a></h2><p>安装 <a href="https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/runtime-aspnetcore-9.0.2-windows-x64-installer" target="_blank" rel="noopener noreferrer">runtime-aspnetcore-9.0.2-windows-x64-installer</a></p><h2 id="软件下载" tabindex="-1"><a class="header-anchor" href="#软件下载"><span>软件下载</span></a></h2><p>从 <a href="/versions">历史版本</a> 中下载 <code>uzonmail-service-win-x64-version.zip</code> 解压后，单击 <code>UZonMailService.exe</code> 启动。</p><p>若截图如下所示，则说明安装成功：</p><figure><img src="https://obs.uamazing.cn:52443/public/files/images/image-20241017221814354.png" alt="image-20241017221814354" tabindex="0" loading="lazy"><figcaption>image-20241017221814354</figcaption></figure><p>此时，可以在浏览器中输入<a href="http://localhost:22345/" target="_blank" rel="noopener noreferrer">http://localhost:22345/</a> 进行测试</p><p>测试成功后，关闭上述终端，进行服务注册</p><h2 id="服务注册" tabindex="-1"><a class="header-anchor" href="#服务注册"><span>服务注册</span></a></h2><p>为了实现后台启动宇正群邮，可以将启动程序 <code>UZonMailService.exe</code> 注册为 Windows 服务。具体操作如下：</p><p>使用管理员打开 cmd 或 powershell（建议使用 powershell），进入到解压后的目录中，执行下列命令:</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 注册服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uzon</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mail install</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uzon</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mail start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其它命令：</p><ul><li>uzon-mail stop 停止服务</li><li>uzon-mail uninstall 卸载服务</li><li>uzon-mail status 查看服务状态</li><li>uzon-mail restart 重启服务</li></ul><h2 id="修改配置" tabindex="-1"><a class="header-anchor" href="#修改配置"><span>修改配置</span></a></h2>`,16)),t("p",null,[i[1]||(i[1]=s("到这一步，服务就创建完成了，由于是服务器部署，您可能会将其代理到公网，因此还有一些必要的配置进行修改，请继续阅读 ")),r(a,{to:"/guide/setup/"},{default:o(()=>i[0]||(i[0]=[s("后端配置")])),_:1}),i[2]||(i[2]=s(" 章节。"))]),i[4]||(i[4]=e(`<div class="hint-container warning"><p class="hint-container-title">注意</p><p>若代理到公网，请务必修改默认配置，否则服务将会不安全！</p></div><h2 id="放行端口" tabindex="-1"><a class="header-anchor" href="#放行端口"><span>放行端口</span></a></h2><p>若是需要局域网内访问，需要放行对应的端口，使用管理员身份打开 PowerShell，然后执行下列命令：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 放行端口 22345</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall add rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dir</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">allow protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TCP localport</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">22345</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看防火墙规则</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall show rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 若要删除，执行以下命令</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">netsh advfirewall firewall delete rule name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UZonMail&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4))])}const u=n(d,[["render",k],["__file","windows-server.html.vue"]]),v=JSON.parse('{"path":"/guide/installation/windows-server.html","title":"Windows Server","lang":"zh-CN","frontmatter":{"title":"Windows Server","icon":"server","order":2,"description":"本节将介绍如何在 Windows Server 上安装宇正群邮。服务器的安装方式，主要分为 3 个部分： 环境安装 安装 runtime-aspnetcore-9.0.2-windows-x64-installer 软件下载 从 历史版本 中下载 uzonmail-service-win-x64-version.zip 解压后，单击 UZonMailS...","head":[["meta",{"property":"og:url","content":"https://uzonmail.pages.dev/guide/installation/windows-server.html"}],["meta",{"property":"og:site_name","content":"宇正群邮"}],["meta",{"property":"og:title","content":"Windows Server"}],["meta",{"property":"og:description","content":"本节将介绍如何在 Windows Server 上安装宇正群邮。服务器的安装方式，主要分为 3 个部分： 环境安装 安装 runtime-aspnetcore-9.0.2-windows-x64-installer 软件下载 从 历史版本 中下载 uzonmail-service-win-x64-version.zip 解压后，单击 UZonMailS..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://obs.uamazing.cn:52443/public/files/images/image-20241017221814354.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-15T14:43:09.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-15T14:43:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows Server\\",\\"image\\":[\\"https://obs.uamazing.cn:52443/public/files/images/image-20241017221814354.png\\"],\\"dateModified\\":\\"2025-03-15T14:43:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"galens\\",\\"url\\":\\"galens.uamazing.cn\\"}]}"]]},"headers":[{"level":2,"title":"环境安装","slug":"环境安装","link":"#环境安装","children":[]},{"level":2,"title":"软件下载","slug":"软件下载","link":"#软件下载","children":[]},{"level":2,"title":"服务注册","slug":"服务注册","link":"#服务注册","children":[]},{"level":2,"title":"修改配置","slug":"修改配置","link":"#修改配置","children":[]},{"level":2,"title":"放行端口","slug":"放行端口","link":"#放行端口","children":[]}],"git":{"createdTime":1742049789000,"updatedTime":1742049789000,"contributors":[{"name":"galens","username":"galens","email":"gmx_galens@163.com","commits":1,"url":"https://github.com/galens"}]},"readingTime":{"minutes":1.47,"words":441},"filePathRelative":"guide/installation/windows-server.md","localizedDate":"2025年3月15日","autoDesc":true}');export{u as comp,v as data};
